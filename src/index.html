<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="description" content="Left 4 Dead 2 addon manager">
        <title>Left 2 Load - A L4D2 addon manager</title>
    </head>
    <body onload="showList()">
        <script src="addonList.js"></script>
        <script>
            function getBasePath(p) {
                return p.slice(0, 1 + p.lastIndexOf('/'));
            };
            function initList() {
                return new AddonList([
                    {
                        path: "workshop/foo.vpk",
                        enabled: true
                    },
                    {
                        path: "workshop/bar.vpk",
                        enabled: true
                    },
                    {
                        path: "workshop/baz.vpk",
                        enabled: false
                    }
                ]);
            }
            function showList() {
                //document.getElementById("listMount").innerText = initList().toString();
                let listData = initList();
                //let listTmp = document.getElementId("addonListTemplate");
                //let avTmp = document.getElementById("addonViewTemplate");
                //let newList = listTmp.content.cloneNode(true);
                //for(let i = 0; i < listData.length; i++) {
                //    let newView = avTmp.content.cloneNode(true);
                //    newView.content
                //}

                let newList = document.getElementById("addonViewTemplate").content.cloneNode(true);



                
                document.getElementById("listMount").appendChild(newList);
            }
        </script>
        <template id="addonListTemplate">
            <div name="addonList" class="addonListView"></div>
        </template>
        <template id="addonViewTemplate">
            <div id="addon" class="addonView" style="border: 1px solid red"">
                <span name="addonTitle">unknown title</span>
                <span name="addonPath">some path</span>
                <input name="addonEnabled" type="checkbox"></input>
            </div>
        </template>

        <div id="root">
            <span id="greetingSpan" style="border: 1px dashed gray">hello world</span>
            <div id="listMount"></div>
        </div>
    </body>
</html>